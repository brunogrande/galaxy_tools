<?xml version="1.0"?>
<tool_dependency>
	<package name="cmake" version="3.1.0">
		<repository name="package_cmake_3_1_0" owner="marcoalbuquerque" prior_installation_required="True"/>
	</package>
	<package name="mysql" version="6.1.0">
		<install version="1.0">
			<actions>
				
				<action type="download_by_url">http://downloads.mysql.com/archives/get/file/mysql-connector-c-6.1.0-src.tar.gz</action>
				
				<action type="set_environment_for_install">
					<repository name="package_cmake_3_1_0" owner="marcoalbuquerque">
						<package name="cmake" version="3.1.0"/>
					</repository>
				</action>

				<action type="shell_command">cmake -DCMAKE_INSTALL_PREFIX=$INSTALL_DIR .</action>
				<action type="shell_command">make</action>	
				<action type="shell_command">make install</action>
				
				<action type="set_environment">
					<environment_variable name="MYSQL_DIR" action="set_to">$INSTALL_DIR</environment_variable>
					<environment_variable name="PATH" action="prepend_to">$INSTALL_DIR/bin</environment_variable>
					<environment_variable name="C_INCLUDE_PATH" action="prepend_to">$INSTALL_DIR/include</environment_variable>
					<environment_variable name="LIBRARY_PATH" action="prepend_to">$INSTALL_DIR/lib</environment_variable>
					<environment_variable name="LD_LIBRARY_PATH" action="prepend_to">$INSTALL_DIR/lib</environment_variable>				
				</action>

			</actions>
		</install>
	</package>
</tool_dependency>
